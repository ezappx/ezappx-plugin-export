<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <title>GrapesJS Plugin Boilerplate</title>
  <link href="http://cdn.ezappx.com/css/grapes.min.css" rel="stylesheet">
  <script src="http://cdn.ezappx.com/js/grapes.js"></script>
  <script src="http://cdn.ezappx.com/js/jquery-3.3.1.min.js"></script>
  <script src="http://cdn.ezappx.com/js/grapesjs-blocks-basic.min.js"></script>
  <script src="dist/ezapp-plugin-export.min.js"></script>
  <style>
    body,
    html {
      height: 100%;
      margin: 0;
    }
  </style>
</head>

<body>

  <div id="gjs" style="height:0px; overflow:hidden"></div>

  <script type="text/javascript">
    let editor = grapesjs.init({
      height: '100%',
      showOffsets: 1,
      noticeOnUnload: 0,
      storageManager: { autoload: true },
      container: '#gjs',
      fromElement: true,
      canvas: {
        scripts: ['http://cdn.ezappx.com/js/jquery-3.3.1.min.js'],
        styles: ['http://cdn.ezappx.com/css/weui.min.css']
      },

      plugins: ['ezapp-plugin-export', 'gjs-blocks-basic'],
      pluginsOpts: {
        'ezapp-plugin-export': {
          username: 'test-user',
          projectName: 'test-project',
          uploadApi: '/upload/projectFile',
          exportApi: '/export/mobileAppProject'
        }
      },
    });

    let deviceManager = editor.DeviceManager;

    deviceManager.add('Android', '300px', {
      height: '600px',
      width: '300px'
    });
    editor.setDevice('Android')

    window.editor = editor;

  </script>
</body>

</html>